## Проект  
Информационная системы для обработки аналитических данных в образовательной организации

## Описание
Система обрабатывает данные посещаемости студентов: сбор через Kafka, обогащение в Spark Streaming из Elasticsearch, хранение в ClickHouse, визуализация в Superset. 

## Архитектура
- Kafka (2.13-3.9.1): Сбор и маршрутизация данных.
- Spark Streaming (4.0.0): Обогащение данными из Elasticsearch.
- ClickHouse (25.1.4.53): Хранение и аналитика.
- Superset (4.1.13): Дашборды.
- ElasticSearch (9.0.2): Хранение справочной информации о студентах и преподавателях.



## Описание работы проекта

Задача состояла в разработке системы обогащения данных из электронного журнала посещения. 
На паре преподаватель должен ставить отметки в специальном журнале.

![alt text](refs/image_4.png)

При первом клике ставится отметка о присутствие студента, на следующий - отсутствие. 
На каждый клик система должна подтягивать как можно больше данных из различных источников информации университета. На текущий момент это - ElasticSearch. В обозримом будующем данные будут доставаться из CRM системы BITRIX, а также 1C.

В электронный журнал был интегрирован Kafka-producer, который отправляет данные в топик attendance_events.
После попадания данных в топик их начинает обрабатывать Spark Streaming.
Spark извлекает из записи уникальные ID студента и преподавателя, затем подключается к ElasticSearch для нахождения справочной информации о студенте и преподавателе. 
Джоинит сырые данные из журнала и справочную информацию и записывает в топик attendance_enriched.

![Тестовый журнал посещаемости](refs/img18.png)


Сырые данные 

![alt text](refs/image_5.png)

Обогащенные данные (некоторые поля, ввиду конфиденциальности данных)

![alt text](refs/image_6.png)


Посмотреть, как отправляются данные из журнала можно [здесь](https://github.com/Kinnerul/gasu_enricher/blob/main/dependence/kafka/Description.md)